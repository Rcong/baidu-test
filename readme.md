本小组开发成员请熟悉以下内容，分支命名规范按文中所示。在学习过程中涉及其它规范内容再更新。  - 敌后武工队



### **源仓库(本体)**
![](http://ww3.sinaimg.cn/large/005BmbB6jw1f1o4a1jiq7j307x0a7js0.jpg)

在项目的开始，项目的发起者构建起一个项目的最原始的仓库，我们把它称为`origin`，例如我们的 `zporange/baidu-test`，origin就是这 个`zporange/baidu-test `了。源仓库的有两个作用：

1. 汇总参与该项目的 `各个开发者` 的代码
2. 存放 `趋于稳定` 和 `可发布` 的代码
&nbsp;

**注意：** 
源仓库应该是 `受保护` 的，开发者 `不应该` 直接对其进行开发工作。只有项目管理者（**通常是项目发起人**）能对其进行 `较高权限` 的操作。
&nbsp;
### **开发者仓库(影分身之术)**
![](http://ww3.sinaimg.cn/large/005BmbB6jw1f1o3wwr2ukj30fu0a7gn4.jpg)

上面说过，任何开发者都不会对源仓库 `进行直接的操作`，源仓库建立以后，每个开发者需要做的事情就是把源仓库的 `“复制”` 一份，作为自己日常开发的仓库。这个复制，也就是`github`上面的`fork`，这里是不是很像火影里鸣人的影分身，独立于本地可以自由控制，完成使命后会自动消失将情况告知本体。

- 每个开发者所 `fork` 的仓库是完全独立的，互不干扰，甚至与 `源仓库都无关` 。
- 每个开发者仓库相当于一个源仓库 `实体的影像`，开发者在这个影像中进行编码，提交到自己的仓库中，这样就可以轻易地实现团队成员之间的并行开发工作。而开发工作完成以后，开发者可以向源仓库发送`pull request`，请求`管理员`把自己的代码 `合并(push)到源仓库` 中，这样就实现了 `分布式` 开发工作，和最后的 `集中式` 的 `管理` 。
&nbsp;

### **分支(多重影分身之术)**
![](http://ww1.sinaimg.cn/large/005BmbB6jw1f1o4gg8sgbj30np0a7mzm.jpg)

分支是git中非常重要的一个概念，也是git这一个工具中的大杀器，必杀技。在其他集中式版本管理工具（SVN/CVS）把分支定位为高级技巧，而在git中，分支操作则是每个开发人员日常工作流。利用git的分支，可以非常方便地进行开发和测试，如果使用git没有让你感到轻松和愉悦，那是因为你还没有学会使用分支。不把分支用出一点翔来，不要轻易跟别人说你用过git。

在文章开头的那张图中，每一个矩形内部纷繁的枝蔓便是git的分支模型。可以看出，每个开发者的仓库都有自己的分支路线，而这些分支路线会通过代码汇总映射到源仓库中去。

分支我将其形容于多`重影分身之术`，尤其是`临时性分支`用这个形容再合适不过。

我们为git定下一种分支模型，在这种模型中，分支有两类，五种

- 永久性分支
 - `master branch`：主分支
 - `develop branch`：开发分支
- 临时性分支
 - `feature branch`：功能分支
 - `release branch`：预发布分支
 - `hotfix branch`：bug修复分支

**永久性分支**
是寿命无限的分支，存在于整个项目的开始、开发、迭代、终止过程中。永久性分支只有两个`master`和`develop`。

- `master`：主分支从项目一开始便存在，它用于存放经过测试，已经完全稳定代码；在项目开发以后的任何时刻当中，master存放的代码应该是可作为产品供用户使用的代码。所以，应该`随时保持`master仓库代码的`清洁和稳定`，确保入库之前是通过完全测试和代码`reivew`的。master分支是所有分支中`最不活跃`的，大概每个月或每两个月更新一次，`每一次`master`更新`的时候都应该用git`打上tag`，说明你的产品有新版本发布了。

- `develop`：开发分支，一开始从`master`分支中`分离`出来，用于开发者存放基本稳定代码。之前说过，每个开发者的仓库相当于源仓库的一个镜像，每个开发者自己的仓库上也有master和develop。开发者把功能做好以后，是存放到自己的develop中，当测试完以后，可以向管理者发起一个pull request，请求把自己仓库的develop分支合并到源仓库的develop中。

所有开发者开发好的功能会在源仓库的develop分支中进行汇总，当develop中的代码经过不断的测试，已经逐渐趋于稳定了，接近产品目标了。这时候，我们就可以把develop分支合并到master分支中，发布一个新版本。

**重说三**：任何人不应该向master直接进行无意义的合并、提交操作。正常情况下，master只应该接受develop的合并，也就是说，master所有代码更新应该源于合并develop的代码。

**暂时性分支**
暂时性分支和永久性分支不同，暂时性分支在开发过程中是一定会被删除的。所有暂时性分支，一般源于develop，最终也一定会回归合并到develop。

- `feature`：功能性分支，是用于开发项目的功能的分支，是开发者主要战斗阵地。开发者在本地仓库从develop分支分出功能分支，在该分支上进行功能的开发，开发完成以后再合并到develop分支上，这时候功能性分支已经完成任务，可以删除。`功能性分支的命名`一般为`feature-*`，*为需要开发的功能的名称。

- `release`：预发布分支，当产品即将发布的时候，要进行最后的调整和测试，这时候就可以分出一个预发布分支，进行最后的bug fix。测试完全以后，发布新版本，就可以把预发布分支删除。`预发布分支一般命名`为`release-*`。

- `hotfix`：修复bug分支，当产品已经发布了，突然出现了重大的bug。这时候就要新建一个hotfix分支，继续紧急的bug修复工作，当bug修复完以后，把该分支合并到master和develop以后，就可以把该分支删除。`修复bug分支命名`一般为`hotfix-*`

> 参考文章
 [使用git和github进行协同开发流程](https://github.com/livoras/blog/issues/7)